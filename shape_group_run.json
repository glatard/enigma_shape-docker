{
    "name": "shape_group_run",
    "description": "This tool takes FreeSurfer aseg.mgz files and generates homologous mesh representations of subcortical ROI boundaries and vertex-wise shape features for statistical analysis. Please cite the following work when using this tool: 1. Gutman, B.A., Madsen, S.K., Toga, A.W., Thompson, P.M.: A Family of Fast Spherical Registration Algorithms for Cortical Shapes. In: Multimodal Brain Image Analysis, vol. 8159, pp. 246-257. Springer International Publishing (2013) 2. Gutman, B.A., Wang, Y., Rajagopalan, P., Toga, A.W., Thompson, P.M.: Shape matching with medial curves and 1-D group-wise registration. In: Biomedical Imaging (ISBI), 2012 9th IEEE International Symposium on, pp. 716-719. (2012)",
    "tool-version": "unknown",
    "schema-version": "0.5",
    "command-line": "chmod 700 [FREESURFER_OUTPUT_DIR]/*/mri && mv [FREESURFER_OUTPUT_DIR] /usr/local/freesurfer && shape_group_run.sh [CSV_FILE] [FREESURFER_OUTPUT_DIR] [OUTPUT_DIR]",
    "container-image": {
        "image": "glatard/enigma_shape:latest",
        "index": "docker://",
        "type": "singularity"
    },
    "inputs": [
        {
            "id": "csv_file",
            "name": "Subject ids (csv)",
            "description": "A comma-separated file with subject id's in the first column, exactly as they appear in the FreeSurfer output paths. The csv file MUST BE SAVED IN PC or UNIX format. (due to a quirk, at least 2 additional columns are needed). It is assumed that if the .csv file has headers, the subject Id header is exactly either 'id' or 'SubjID'.",
            "type": "File",
            "value-key": "[CSV_FILE]"
        },
        {
            "id": "freesurfer_output_dir",
            "name": "Freesurfer ouput directory",
            "description": "The Freesurfer output directory, containing a sub-directory for each subject id mentioned in the CSV file. For instance, if the CSV file contains id '12345', then this directory must contain a sub-directory named '12345'.",
            "type": "File",
            "value-key": "[FREESURFER_OUTPUT_DIR]"
        },
        {
            "id": "output_dir_name",
            "name": "Output directory name",
            "description": "Name of the output directory where results will be stored.",
            "type": "String",
            "value-key": "[OUTPUT_DIR]"
        }
    ],
    "output-files": [
        {
            "id": "outputs",
            "name": "Output directory",
            "path-template": "[OUTPUT_DIR]"
        }
    ],
    "tags": {
        "genetics": true,
        "ENIGMA": true
    }
}